<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <input type="text" id='input'>
  <select id='select'>
    <option value="no">Выберите языки</option>
    <option value="en-ru">en-ru</option>
    <option value="ru-en">ru-en</option>
  </select>
  <button id='btn'>Перевести</button>
  <div id="res"></div>

</body>
<script>
  const input = document.getElementById('input'),
    select = document.getElementById('select'),
    btn = document.getElementById('btn'),
    res = document.getElementById('res');

  btn.addEventListener('click', () => {
    res.textContent = '';
    const key = 'trnsl.1.1.20190704T212630Z.c409bb9604ae7251.df09dbd89372575b02298ed0970f8e45c749648b';
    const key2 = 'trnsl.1.1.20190225T091515Z.06bde7bd52a8c1a7.0749f827a8a0474bf52a18b3b47f827f339c781a';
    if (select.value !== "no") {

      const text = input.value,
        lang = select.value;
      url = `https://translate.yandex.net/api/v1.5/tr.json/translate?key=${key}&text=${text}&lang=${lang}`

      const postData = (url) => {
        return fetch(url, {
          method: 'POST',
          headers: {
            'Content-Type': 'multipart/form-data',
          },
          mode: 'cors',
          cache: 'default',
          redirect: 'follow'
        });
      };

      postData(url)
        .then((response) => {
          if (response.status !== 200) {
            throw new Error('status error not 200');
          }
          return (response.json());
        })
        .then(data => {
          if (data.text[0]) res.textContent = data.text[0]
        })
        .catch((error) => {
          res.textContent = 'Ошибка! Попробуйте еще раз';
          input.value = '';
        })
    }
  })
</script>

</html>